#!/bin/bash

# Pre-push hook to run `sync test` for cfaintl/* repos

remote="$1"
url="$2"

# Check if the remote URL matches cfaintl/*
if [[ "$url" =~ cfaintl/ ]]; then
    echo "Detected cfaintl repo, running 'sync test'..."
    if ! sync test; then
        echo "sync test failed, aborting push"
        exit 1
    fi
fi

exit 0
