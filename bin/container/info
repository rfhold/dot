#!/bin/bash
# Display container/pod information
set -e

echo "=== Container Info ==="
echo ""

# Namespace
if [[ -f /var/run/secrets/kubernetes.io/serviceaccount/namespace ]]; then
    echo "Namespace: $(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace)"
fi

# Hostname is typically the pod name
echo "Pod name:  ${HOSTNAME:-unknown}"

# Uptime
echo "Uptime:    $(uptime -p 2>/dev/null || uptime)"

echo ""
echo "=== Processes ==="
ps aux --sort=-%mem | head -10

echo ""
echo "=== Memory ==="
free -h

echo ""
echo "=== Disk ==="
df -h / /home 2>/dev/null | uniq
